
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Introduction &#8212; pyfakefs 4.8.dev0 documentation</title>
    <link rel="stylesheet" href="_static/pyfakefs.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Usage" href="usage.html" />
    <link rel="prev" title="Welcome to the pyfakefs documentation!" href="index.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="usage.html" title="Usage"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Welcome to the pyfakefs documentation!"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">pyfakefs 4.8.dev0 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="introduction">
<h1>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h1>
<p><a class="reference external" href="https://github.com/jmcgeheeiv/pyfakefs">pyfakefs</a> implements a fake file
system that mocks the Python file system modules.
Using pyfakefs, your tests operate on a fake file system in memory without touching the real disk.
The software under test requires no modification to work with pyfakefs.</p>
<p>pyfakefs works with CPython 3.7 and above, on Linux, Windows and OSX
(MacOS), and with PyPy3.</p>
<p>pyfakefs works with <a class="reference external" href="doc.pytest.org">pytest</a> version 3.0.0 or above by
providing the <cite>fs</cite> fixture that enables the fake filesystem.</p>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p>pyfakefs is available on <a class="reference external" href="https://pypi.python.org/pypi/pyfakefs/">PyPi</a>.
The latest released version can be installed from pypi:</p>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">pyfakefs</span>
</pre></div>
</div>
<p>The latest master can be installed from the GitHub sources:</p>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">git</span><span class="o">+</span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">jmcgeheeiv</span><span class="o">/</span><span class="n">pyfakefs</span>
</pre></div>
</div>
</div>
<div class="section" id="features">
<h2>Features<a class="headerlink" href="#features" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Code executed under pyfakefs works transparently on a memory-based file
system without the need of special commands. The same code that works on
the real filesystem will work on the fake filesystem if running under
pyfakefs.</li>
<li>pyfakefs provides direct support for <cite>pytest</cite> (via the <cite>fs</cite> fixture)
and <cite>unittest</cite> (via a <cite>TestCase</cite> base class), but can also be used with
other test frameworks.</li>
<li>Each pyfakefs test starts with an empty file system, but it is possible to
map files and directories from the real file system into the fake
filesystem if needed.</li>
<li>No files in the real file system are changed during the tests, even in the
case of writing to mapped real files.</li>
<li>pyfakefs keeps track of the filesystem size if configured. The file system
size can be configured arbitrarily.</li>
<li>it is possible to pause and resume using the fake filesystem, if the
real file system has to be used in a test step</li>
<li>pyfakefs defaults to the OS it is running on, but can also be configured
to test code running under another OS (Linux, MacOS or Windows).</li>
<li>pyfakefs can be configured to behave as if running as a root or as a
non-root user, independently from the actual user.</li>
</ul>
</div>
<div class="section" id="limitations">
<span id="id1"></span><h2>Limitations<a class="headerlink" href="#limitations" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>pyfakefs will not work with Python libraries (other than <cite>os</cite> and <cite>io</cite>) that
use C libraries to access the file system, because it cannot patch the
underlying C libraries’ file access functions</li>
<li>pyfakefs patches most kinds of importing file system modules automatically,
but there are still some cases where this will not work.
See <a class="reference internal" href="usage.html#customizing-patcher"><span class="std std-ref">Customizing patching</span></a> for more information and ways to work around
this.</li>
<li>pyfakefs does not retain the MRO for file objects, so you cannot rely on
checks using <cite>isinstance</cite> for these objects (for example, to differentiate
between binary and textual file objects).</li>
<li>pyfakefs is only tested with CPython and the newest PyPy versions, other
Python implementations will probably not work</li>
<li>Differences in the behavior in different Linux distributions or different
MacOS or Windows versions may not be reflected in the implementation, as
well as some OS-specific low-level file system behavior. The systems used
for automatic tests in
<a class="reference external" href="https://travis-ci.org/jmcgeheeiv/pyfakefs">Travis.CI</a> and
<a class="reference external" href="https://ci.appveyor.com/project/jmcgeheeiv/pyfakefs">AppVeyor</a> are
considered as reference systems, additionally the tests are run in Docker
containers with the latest CentOS, Debian, Fedora and Ubuntu images.</li>
<li>pyfakefs may not work correctly if file system functions are patched by
other means (e.g. using <cite>unittest.mock.patch</cite>) - see
<a class="reference internal" href="troubleshooting.html#usage-with-mock-open"><span class="std std-ref">Pyfakefs and mock_open</span></a> for more information</li>
<li>pyfakefs will not work correctly with
<a class="reference external" href="https://github.com/behave/behave">behave</a> due to the way it loads
the steps, if any filesystem modules are imported globally in the steps or
environment files; as a workaround, you may load them locally inside the
test steps (see <a class="reference external" href="https://github.com/jmcgeheeiv/pyfakefs/issues/703">this issue</a>)</li>
</ul>
</div>
<div class="section" id="history">
<h2>History<a class="headerlink" href="#history" title="Permalink to this headline">¶</a></h2>
<p>pyfakefs was initially developed at Google by
<a class="reference external" href="https://mike-bland.com/about.html">Mike Bland</a> as a modest
fake implementation of core Python modules. It was introduced to all of
Google in September 2006. Since then, it has been enhanced to extend its
functionality and usefulness. At last count, pyfakefs was used in over
2,000 Python tests at Google.</p>
<p>Google released pyfakefs to the public in 2011 as Google Code project
<a class="reference external" href="http://code.google.com/p/pyfakefs/">pyfakefs</a>:</p>
<ul class="simple">
<li>Fork <a class="reference external" href="http://code.google.com/p/jmcgeheeiv-pyfakefs/">jmcgeheeiv-pyfakefs</a>
added direct support for unittest and doctest as described in
<a class="reference internal" href="autopatch.html#auto-patch"><span class="std std-ref">Automatically find and patch file functions and modules</span></a></li>
<li>Fork <a class="reference external" href="http://code.google.com/p/shiffdane-jmcgeheeiv-pyfakefs/">shiffdane-jmcgeheeiv-pyfakefs</a>
added further corrections</li>
</ul>
<p>After the <a class="reference external" href="http://google-opensource.blogspot.com/2015/03/farewell-to-google-code.html">shutdown of Google
Code</a>
was announced, <a class="reference external" href="https://github.com/jmcgeheeiv">John McGehee</a> merged
all three Google Code projects together <a class="reference external" href="https://github.com/jmcgeheeiv/pyfakefs">on
GitHub</a> where an enthusiastic
community actively maintains and extends pyfakefs.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Introduction</a><ul>
<li><a class="reference internal" href="#installation">Installation</a></li>
<li><a class="reference internal" href="#features">Features</a></li>
<li><a class="reference internal" href="#limitations">Limitations</a></li>
<li><a class="reference internal" href="#history">History</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">Welcome to the pyfakefs documentation!</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="usage.html"
                        title="next chapter">Usage</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/intro.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="usage.html" title="Usage"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Welcome to the pyfakefs documentation!"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">pyfakefs 4.8.dev0 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2009 Google Inc. All Rights Reserved.
© Copyright 2014 Altera Corporation. All Rights Reserved.
© Copyright 2014-2022 John McGehee.
      Last updated on Oct 04, 2022.
    </div>
  </body>
</html>